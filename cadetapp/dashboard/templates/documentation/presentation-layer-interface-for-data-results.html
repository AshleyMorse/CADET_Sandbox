{% extends 'dashboard/base.html' %}
{% block content %}
        <div class="documentation-api-container container">
            <h2> Presentation Layer Interface for Data Layer Results </h2>

<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.15b.dev: http://docutils.sourceforge.net/" />
<title>Presentation Layer Interface for Data Layer Results</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="presentation-layer-interface-for-data-layer-results">
<h1 class="title">Presentation Layer Interface for Data Layer Results</h1>

<!-- This work is licensed under a Creative Commons 3.0 Unported License.

http://creativecommons.org/licenses/by/3.0/legalcode -->
<p>CADET (Course Assessment using Data Exploration of Text) is an application
developed by students and faculty of [JHU EP]_. This program utilizes Natural
Language Processing (<a class="citation-reference" href="#nlp" id="id1">[NLP]</a>) to examine the sentiments in evaluations left by
students to quantify course and instuctor effectivness. A web service port of
the existing CADET desktop application is being developed. One aspect of this
update is that the web application will have two subsystems, presentation/UI
and data/back-end, hosted on different platforms. This creates a gap in the
flow of processed output from the data layer back to the user. The disconnect
will be bridged by a presentation/UI-side interface which ingests the results
and separates them into constituent parts.</p>
<div class="section" id="problem-description">
<h1>Problem Description</h1>
<div class="section" id="platform">
<h2>Platform</h2>
<p>Currently, CADET exists as a desktop application, written in Python <a class="citation-reference" href="#python" id="id2">[Python]</a>,
which runs on the user's local machine. This configuration presents two issues:</p>
<ol class="arabic simple">
<li>User base restricted to students/faculty with access to CADET source code.</li>
<li>Application does not effectively manage the capabilities of host machine.
Evaulating input takes a considerable amount of time, which varies by data
set size and individual machine resources.</li>
</ol>
</div>
<div class="section" id="source-code-modification">
<h2>Source Code Modification</h2>
<p>Porting CADET to a web application should address both these concerns: web
services are accessible to non-technical individuals who may not have an
understanding of how to build applications and off-loading the NLP processing
will decrease local resource cost; additionally providing a conrete baseline
for performance analysis. However, these changes require extensive modification
of the existing source code along with new development. The current CADET
processing flow is comprised of 3 main steps:</p>
<ol class="arabic simple">
<li>Import file(s) containing structured, unprocessed comment data.</li>
<li>Parse/Evaluate a local copy of the data using Python's Natural Language
Toolkit <a class="citation-reference" href="#nltk" id="id3">[NLTK]</a> to process the text using NLP techniques.</li>
<li>Display the processed information to the user.</li>
</ol>
<p>A byproduct of the web application will be the separation/modularization of
presentation and data control aspects.</p>
</div>
<div class="section" id="interface">
<h2>Interface</h2>
<p>Once the input data has been processed by the data layer, the result is
returned to the presentation layer (this would fall between steps 2 and 3).
A method by which the processed output of the data layer is gathered and
interpreted by the presentation layer is necessary.</p>
<div class="section" id="requirements">
<h3>Requirements</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Functional:</th><td class="field-body"><ul class="first simple">
<li>Implemented in Python.</li>
<li>Request JSON objects via RESTful API [RESTful API]_ exposed by data layer.</li>
<li>Present retrieved data to presentation layer.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Quality:</th><td class="field-body"><ul class="first last simple">
<li>Mimic functionality of desktop app.</li>
<li>Gracefully handle situations when a resquest returns an error.</li>
<li>Efficiently gather processed comment data.</li>
<li>Adequate internal and external documentation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="use-cases">
<h3>Use Cases</h3>
</div>
</div>
<div class="section" id="processed-data-retrieval">
<h2>Processed Data Retrieval</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Primary Actor:</th><td class="field-body">Presentation layer thread of control (TOC).</td>
</tr>
<tr class="field"><th class="field-name">Goals:</th><td class="field-body">Retrieve processed data from data layer database.</td>
</tr>
<tr class="field"><th class="field-name">Preconditions:</th><td class="field-body">The TOC has become aware requested results are finished being processed and
knowns the table where the results are stored.</td>
</tr>
<tr class="field"><th class="field-name">Postconditions:</th><td class="field-body">JSON object(s) representing processed data has been read into the program.
Comment data members and topic dictionary are easily accessible.</td>
</tr>
<tr class="field"><th class="field-name">Exceptions:</th><td class="field-body">Call to data layer API returns in failure due to connectivity or data
retrieval results in error.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="semantic-highlighting">
<h2>Semantic Highlighting</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Primary Actor:</th><td class="field-body">Presentation layer thread Of control (TOC)</td>
</tr>
<tr class="field"><th class="field-name">Goals:</th><td class="field-body">Processed data has been grouped into catagories based in topic model input.
This data is further grouped into positive, negative, and neutral comments.</td>
</tr>
<tr class="field"><th class="field-name">Preconditions:</th><td class="field-body">Error-free JSON objectS containing processed data from database has been
successfully read into a local memory. Topic Model inputs are known.</td>
</tr>
<tr class="field"><th class="field-name">Postconditions:</th><td class="field-body">Data stored in an array where it can be easily accessed by display routines.</td>
</tr>
<tr class="field"><th class="field-name">Exceptions:</th><td class="field-body">Errors in results from data layer.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="proposed-change">
<h1>Proposed Change</h1>
<p>The main focus of this feature is to create an interface that will:</p>
<ol class="arabic simple">
<li>Utilize JSON objects with existing code</li>
<li>Access the database API</li>
<li>Retrieve and pass JSON objects</li>
</ol>
<p>In order to accomplish these goals, the current CADET code will need to be
evaluated. The first step in implementing this feature will be to find the
point where the processed comment data is passed from NTLK analysis back to
front end code for display. Currently, this occurs in FileIngesterUtil.py,
via an array of Comments.</p>
<p>The next step is to wrap the Comment array into a JSON object. JavaScript
Object Notation <a class="citation-reference" href="#json" id="id4">[JSON]</a> is lightweight data interchange format. It has become
widely accepted as a convenient way to represent simple data structures.
Altering the application to manipulate JSON objects does not provide any
immediate improvements, but will be necessary for passing data. After the JSON
wrapper has been implemented, the expected Comment members should be changed to
reflect the proposed data structure described by the &quot;Data Analysis
Specification&quot; <a class="citation-reference" href="#d88" id="id5">[D88]</a> feature. That specification document enumerates the JSON
object fields that the data layer will return. The standard Python JSON
[Python JSON]_ library will be used to handle these objects.</p>
<p>As previously stated, the web version of CADET will serparate the presentation
and data aspects of the application. In the specification document for the
&quot;Metadata Retrieval&quot; <a class="citation-reference" href="#d82" id="id6">[D82]</a> feature, the mechanism for accessing processed
comment data is described. This information will be housed in a database which
presents an externally accessible RESTful API interface. REpresentational State
Transfer <a class="citation-reference" href="#rest" id="id7">[REST]</a> is a standard for web APIs which conform to a set of defined
principles. RESTful web services use common command words to send and receive
data through calls to URLs. In this instance, GET resquests to the API will
return the JSON objects mentioned in the last paragraph. A new class will be
developed for the purpose of procuring this data.</p>
<p>Before accessing the API, the class will need to know the ID of the table which
contains the processed data it wants to access. From this information, it will
be able to periodically poll the table's corresponding URL to query status.
Once it has been determined the table is available, the class is able to
discover the topic dictionary and the number Comment entries. It will then
iterate over all the entries, retrieving each as an individual JSON object and
storing them in an array. This array can then be passed out of the class where
the &quot;Dashboard - Display topic comments from data layer&quot; <a class="citation-reference" href="#d93" id="id8">[D93]</a> presentation
layer feature will take over further processing this data.</p>
<div class="section" id="alternatives">
<h2>Alternatives</h2>
<p>The result of the NLTK could be processed before it is stored.</p>
<ul class="simple">
<li>The partition of presentation and data processing/storage better utilizes
anticipated machine resources:<ul>
<li>Presentation layer will run in the browser of the user's local machine,
where resources necessary are ideally minimal, and</li>
<li>Data processing and storage functionality will run on a remote server,
where processing resources are a commodity.</li>
</ul>
</li>
</ul>
<p>A different type of object interchange format, such YAML <a class="citation-reference" href="#yaml" id="id9">[YAML]</a> or MessagePack
<a class="citation-reference" href="#messagepack" id="id10">[MessagePack]</a>, is used to pass data.</p>
<ul class="simple">
<li>JSON has a detailed utilization history in similar application domains.</li>
</ul>
</div>
</div>
<div class="section" id="testing">
<h1>Testing</h1>
<ul class="simple">
<li>JSON objects with extisting code</li>
<li>Comments using updated data members</li>
<li>Data store ping mechanism</li>
<li>REST API data retrival
- Include various possible returned error codes</li>
</ul>
</div>
<div class="section" id="documentation">
<h1>Documentation</h1>
<p>In-line code will be added to help future developers understand the rationale
and mechanisms used to implement this feature. Formal documentation will be
submitted to the Documentation Team; this will cover the processing flow and
major data structures. As a result of this feature being &quot;under the hood&quot; to
the user, no external interface documentation will be provided.</p>
</div>
<div class="section" id="implementation">
<h1>Implementation</h1>
<div class="section" id="work-items">
<h2>Work Items</h2>
<ol class="arabic simple">
<li>Refactor existing code
- Understand and informally document current product.
- Incorporate JSON objects in processed data handoff.</li>
<li>Comment object manipulation
- Evaluate CADET data structures containing processed data.
- Determine discrepencies with database return structure.
- Refactor code to utilize new data strucure.
- JSON objects are retrieved and locally accessible.</li>
<li>Data layer API
- Identify data layer access methology.
- Design external throw away prototype to get JSON objects via REST API.
- Integrate learned concepts into presentation layer code.</li>
</ol>
</div>
</div>
<div class="section" id="references">
<h1>References</h1>
<table class="docutils citation" frame="void" id="d82" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[D82]</a></td><td>Jason Porter, &quot;Specification for data retrieval from CADET&quot;
URL: <a class="reference external" href="https://web4.jhuep.com/D82">https://web4.jhuep.com/D82</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="d88" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[D88]</a></td><td>Chase Rogers, &quot;Add specification for data analysis&quot;
URL: <a class="reference external" href="https://web4.jhuep.com/D88">https://web4.jhuep.com/D88</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="d93" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[D93]</a></td><td>Kyle Hartner &quot;Display topic comments from data layer Spesifications&quot;
URL: <a class="reference external" href="https://web4.jhuep.com/D93">https://web4.jhuep.com/D93</a></td></tr>
</tbody>
</table>
<!-- [JHU EP] Johns Hopkins, Engineering for Professionals
URL: https://ep.jhu.edu/ -->
<table class="docutils citation" frame="void" id="json" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[JSON]</a></td><td>JavaScript Object Notation. Outline: <a class="reference external" href="http://www.json.org/">http://www.json.org/</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="messagepack" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[MessagePack]</a></td><td>MessagePack. Outline: <a class="reference external" href="http://msgpack.org/index.html">http://msgpack.org/index.html</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nlp" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[NLP]</a></td><td>Matt Kiser, &quot;Introduction to Natural Language Processing (NLP) 2016&quot;
August 2016, Outline:
<a class="reference external" href="https://blog.algorithmia.com/introduction-natural-language-processing-nlp/">https://blog.algorithmia.com/introduction-natural-language-processing-nlp/</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nltk" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[NLTK]</a></td><td>Natural Language ToolKit. Outline: <a class="reference external" href="http://www.nltk.org/">http://www.nltk.org/</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="python" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[Python]</a></td><td>Python Programming Language. Outline: <a class="reference external" href="https://www.python.org/">https://www.python.org/</a></td></tr>
</tbody>
</table>
<!-- [Python JSON] The Standard Python Library, json Module.
Outline: https://docs.python.org/3/library/json.html -->
<table class="docutils citation" frame="void" id="rest" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[REST]</a></td><td>Roy Fielding, &quot;CHAPTER 5 Representational State Transfer (REST)&quot; URL:
<a class="reference external" href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.html">https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.html</a></td></tr>
</tbody>
</table>
<!-- [RESTful API] Roy Fielding, September 2017.
Outline: https://restfulapi.net/ -->
<table class="docutils citation" frame="void" id="yaml" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[YAML]</a></td><td>YAML Ain't a Markup Language. Outline: <a class="reference external" href="http://yaml.org/">http://yaml.org/</a></td></tr>
</tbody>
</table>
</div>
</div>
</body>
</html>


        </div>
{% endblock %}
